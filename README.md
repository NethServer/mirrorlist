# mirrorlist

This is the list of official NethServer mirrors. 

## Donate a NethServer mirror

If you want to host a NethServer mirror 

* Read the community [HowTo](https://community.nethserver.org/t/how-to-create-your-own-nethserver-mirror/344)
* Edit [mirrors](https://github.com/NethServer/mirrorlist/edit/master/mirrors)

The `mirrors` file format follows these rules:

1. each line represents a mirror record
2. the line begins with the two letters country code where the mirror is 
   located, followed by a single space separator (e.g. `us `)
3. the line continues with the base mirror URL (e.g. `http://mirror.nethserver.org/nethserver/`)

## Mirror status

A couple of `mirmon` instances run on `mirror-status.nethserver.org`:

* [mirrors](http://mirror-status.nethserver.org/) &ndash; [modify](https://github.com/NethServer/mirrorlist/edit/master/mirrors)
* [ce-mirrors](http://mirror-status.nethserver.org/centos.html) &ndash; [modify](https://github.com/NethServer/mirrorlist/edit/master/ce-mirrors)

If you think some mirror should be added/removed feel free to propose a file modification!

## Configuration

All the configuration is set by ``config.php``. Other scripts should not be
modified, unless a business rule change is wanted.

The mirrors list is generated by ``nethserver.php`` for both ns6 and ns7. The
``centos.php`` script is specific to ns6: it generates the mirrors list for
CentOS repositories, or it redirects to mirrorlist.centos.org.

Common use cases:

- When a new, stable, upstream, CentOS release is available, update
  ``$centos_releases``

- When a new development version of NethServer is available, list it in
  ``$development_releases``

- If the development release is stuck and CentOS moves a release to 
  vault.centos.org, list that release in ``$vault_releases``

- When a development release becomes stable, remove it from
  ``$development_releases`` and update ``$stable_releases``

- If a release number is not listed neither in ``$vault_releases`` nor
  ``$development_releases``, the stable release number is returned, triggering a
  system upgrade
